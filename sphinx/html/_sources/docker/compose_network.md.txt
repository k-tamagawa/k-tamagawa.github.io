# Composeのネットワーク

## ネットワーク名

docker-composeで作成されたネットワーク名はプロジェクト名 + _defaultとなる。  
attachableは有効になる。

```text
ex. > postgresql_default

./postgresql
  │ docker-compose.yml
  └
```

## attachable

attachableを有効にするとdocker runで起動したコンテナでも接続できるようになる。  
※後から作成したコンテナに紐づけできるようになるらしい。

## external

別のdocker-composeへの通信を可能にする。

- frontend.yaml（一部抜粋して記載）

  ```yaml
  version: '3'
  services:
    web:
      ports: 
        - '80:80'
      networks:
        my_link
  networks:
    my_link:
      external:true
  ```

- backend.yaml（一部抜粋して記載）

  ```yaml
  version: '3'
  services:
    api:
      ports: 
        - '3000:3000'
      networks:
        my_link
    db:
      ports: 
        - '5432:5432'
      networks:
        my_link
  networks:
    my_link:
      external:true
  ```
