const CACHE_NAME = 'cache-v1.0.5';

const data = ["/sphinx/html/.buildinfo", "/sphinx/html/genindex.html", "/sphinx/html/index.html", "/sphinx/html/objects.inv", "/sphinx/html/search.html", "/sphinx/html/searchindex.js", "/sphinx/html/service-worker.js", "/sphinx/html/sphinx.html", "/sphinx/html/bookmark/bjs_list.html", "/sphinx/html/bookmark/index.html", "/sphinx/html/bookmark/its_list.html", "/sphinx/html/bookmark/tr_list.html", "/sphinx/html/docker/command.html", "/sphinx/html/docker/compose_network.html", "/sphinx/html/docker/devcontainer.html", "/sphinx/html/docker/docker_info.html", "/sphinx/html/docker/docker_inst.html", "/sphinx/html/docker/docker_wsl2.html", "/sphinx/html/docker/index.html", "/sphinx/html/git/git_bucket.html", "/sphinx/html/git/git_cmd.html", "/sphinx/html/git/git_config.html", "/sphinx/html/git/git_lfs.html", "/sphinx/html/git/index.html", "/sphinx/html/kintai/index.html", "/sphinx/html/kintai/kinjirou.html", "/sphinx/html/mssql/command.html", "/sphinx/html/mssql/common.html", "/sphinx/html/mssql/index.html", "/sphinx/html/mssql/LOG_DB.html", "/sphinx/html/mssql/other_sql.html", "/sphinx/html/msys2/command.html", "/sphinx/html/msys2/index.html", "/sphinx/html/msys2/install.html", "/sphinx/html/mysql/command.html", "/sphinx/html/mysql/index.html", "/sphinx/html/mysql/output_csv.html", "/sphinx/html/other_command/curl.html", "/sphinx/html/other_command/hyper-v.html", "/sphinx/html/other_command/index.html", "/sphinx/html/other_command/mattermost.html", "/sphinx/html/other_command/packet_monitoring.html", "/sphinx/html/other_command/port_forward.html", "/sphinx/html/other_config/excel.html", "/sphinx/html/other_config/iis.html", "/sphinx/html/other_config/index.html", "/sphinx/html/other_config/message_analyzer.html", "/sphinx/html/other_config/vs.html", "/sphinx/html/other_config/windows.html", "/sphinx/html/redmine/config.html", "/sphinx/html/redmine/index.html", "/sphinx/html/sample/index.html", "/sphinx/html/sample/markdown.html", "/sphinx/html/sample/plantuml.html", "/sphinx/html/sample/reST.html", "/sphinx/html/sample/sample_html/html_note.html", "/sphinx/html/sample/sample_html/html_other.html", "/sphinx/html/sample/sample_html/index.html", "/sphinx/html/sample/sample_markdown/express.html", "/sphinx/html/sample/sample_markdown/index.html", "/sphinx/html/sample/sample_markdown/log4js.html", "/sphinx/html/sample/sample_markdown/mattermost.html", "/sphinx/html/sample/sample_markdown/nodejs.html", "/sphinx/html/shortcut/chrome.html", "/sphinx/html/shortcut/code.html", "/sphinx/html/shortcut/index.html", "/sphinx/html/svn/command.html", "/sphinx/html/svn/index.html", "/sphinx/html/wsl2/command.html", "/sphinx/html/wsl2/index.html", "/sphinx/html/wsl2/wsl2_inst.html", "/sphinx/html/_images/account_invalid.png", "/sphinx/html/_images/ANACONDA.png", "/sphinx/html/_images/anaconda_install_for.png", "/sphinx/html/_images/change_history.png", "/sphinx/html/_images/codelens_invalid.png", "/sphinx/html/_images/dakoku_1.png", "/sphinx/html/_images/dakoku_2.png", "/sphinx/html/_images/debug_source_edit.png", "/sphinx/html/_images/env_plantuml.png", "/sphinx/html/_images/error_trap_exeption.png", "/sphinx/html/_images/memo.png", "/sphinx/html/_images/message_analyzer.png", "/sphinx/html/_images/not_update_check.png", "/sphinx/html/_images/plantuml-540d8218ecfc6bdd84f837db43ff71cda1cace12.png", "/sphinx/html/_images/plantuml-a56ff81440cc08760469331b6d5af199894290b0.png", "/sphinx/html/_images/selected_active_file.png", "/sphinx/html/_images/source_plugin_ignore.png", "/sphinx/html/_images/trancomcojp.png", "/sphinx/html/_images/visual_adjust.png", "/sphinx/html/_images/vscode_proxy.png", "/sphinx/html/_images/vscode_python.png", "/sphinx/html/_plantuml/54/540d8218ecfc6bdd84f837db43ff71cda1cace12.png", "/sphinx/html/_plantuml/a5/a56ff81440cc08760469331b6d5af199894290b0.png", "/sphinx/html/_sources/index.rst.txt", "/sphinx/html/_sources/sphinx.md.txt", "/sphinx/html/_sources/bookmark/bjs_list.md.txt", "/sphinx/html/_sources/bookmark/index.rst.txt", "/sphinx/html/_sources/bookmark/its_list.md.txt", "/sphinx/html/_sources/bookmark/tr_list.md.txt", "/sphinx/html/_sources/docker/command.md.txt", "/sphinx/html/_sources/docker/compose_network.md.txt", "/sphinx/html/_sources/docker/devcontainer.md.txt", "/sphinx/html/_sources/docker/docker_info.md.txt", "/sphinx/html/_sources/docker/docker_inst.md.txt", "/sphinx/html/_sources/docker/docker_wsl2.md.txt", "/sphinx/html/_sources/docker/index.rst.txt", "/sphinx/html/_sources/git/git_bucket.md.txt", "/sphinx/html/_sources/git/git_cmd.md.txt", "/sphinx/html/_sources/git/git_config.md.txt", "/sphinx/html/_sources/git/git_lfs.md.txt", "/sphinx/html/_sources/git/index.rst.txt", "/sphinx/html/_sources/kintai/index.rst.txt", "/sphinx/html/_sources/kintai/kinjirou.md.txt", "/sphinx/html/_sources/mssql/command.md.txt", "/sphinx/html/_sources/mssql/common.md.txt", "/sphinx/html/_sources/mssql/index.rst.txt", "/sphinx/html/_sources/mssql/LOG_DB.md.txt", "/sphinx/html/_sources/mssql/other_sql.md.txt", "/sphinx/html/_sources/msys2/command.md.txt", "/sphinx/html/_sources/msys2/index.rst.txt", "/sphinx/html/_sources/msys2/install.md.txt", "/sphinx/html/_sources/mysql/command.md.txt", "/sphinx/html/_sources/mysql/index.rst.txt", "/sphinx/html/_sources/mysql/output_csv.md.txt", "/sphinx/html/_sources/other_command/curl.md.txt", "/sphinx/html/_sources/other_command/hyper-v.md.txt", "/sphinx/html/_sources/other_command/index.rst.txt", "/sphinx/html/_sources/other_command/mattermost.md.txt", "/sphinx/html/_sources/other_command/packet_monitoring.md.txt", "/sphinx/html/_sources/other_command/port_forward.md.txt", "/sphinx/html/_sources/other_config/excel.md.txt", "/sphinx/html/_sources/other_config/iis.md.txt", "/sphinx/html/_sources/other_config/index.rst.txt", "/sphinx/html/_sources/other_config/message_analyzer.md.txt", "/sphinx/html/_sources/other_config/vs.md.txt", "/sphinx/html/_sources/other_config/windows.md.txt", "/sphinx/html/_sources/redmine/config.md.txt", "/sphinx/html/_sources/redmine/index.rst.txt", "/sphinx/html/_sources/sample/index.rst.txt", "/sphinx/html/_sources/sample/markdown.md.txt", "/sphinx/html/_sources/sample/plantuml.rst.txt", "/sphinx/html/_sources/sample/reST.rst.txt", "/sphinx/html/_sources/sample/sample_html/html_note.md.txt", "/sphinx/html/_sources/sample/sample_html/html_other.md.txt", "/sphinx/html/_sources/sample/sample_html/index.rst.txt", "/sphinx/html/_sources/sample/sample_markdown/express.md.txt", "/sphinx/html/_sources/sample/sample_markdown/index.rst.txt", "/sphinx/html/_sources/sample/sample_markdown/log4js.md.txt", "/sphinx/html/_sources/sample/sample_markdown/mattermost.md.txt", "/sphinx/html/_sources/sample/sample_markdown/nodejs.md.txt", "/sphinx/html/_sources/shortcut/chrome.md.txt", "/sphinx/html/_sources/shortcut/code.md.txt", "/sphinx/html/_sources/shortcut/index.rst.txt", "/sphinx/html/_sources/svn/command.md.txt", "/sphinx/html/_sources/svn/index.rst.txt", "/sphinx/html/_sources/wsl2/command.md.txt", "/sphinx/html/_sources/wsl2/index.rst.txt", "/sphinx/html/_sources/wsl2/wsl2_inst.md.txt", "/sphinx/html/_static/basic.css", "/sphinx/html/_static/doctools.js", "/sphinx/html/_static/documentation_options.js", "/sphinx/html/_static/favicon.ico", "/sphinx/html/_static/file.png", "/sphinx/html/_static/jquery-3.5.1.js", "/sphinx/html/_static/jquery.js", "/sphinx/html/_static/language_data.js", "/sphinx/html/_static/minus.png", "/sphinx/html/_static/plus.png", "/sphinx/html/_static/pygments.css", "/sphinx/html/_static/searchtools.js", "/sphinx/html/_static/translations.js", "/sphinx/html/_static/underscore-1.13.1.js", "/sphinx/html/_static/underscore.js", "/sphinx/html/_static/css/badge_only.css", "/sphinx/html/_static/css/my_theme.css", "/sphinx/html/_static/css/theme.css", "/sphinx/html/_static/css/fontawesome6/css/all.css", "/sphinx/html/_static/css/fontawesome6/css/all.min.css", "/sphinx/html/_static/css/fontawesome6/css/brands.css", "/sphinx/html/_static/css/fontawesome6/css/brands.min.css", "/sphinx/html/_static/css/fontawesome6/css/fontawesome.css", "/sphinx/html/_static/css/fontawesome6/css/fontawesome.min.css", "/sphinx/html/_static/css/fontawesome6/css/regular.css", "/sphinx/html/_static/css/fontawesome6/css/regular.min.css", "/sphinx/html/_static/css/fontawesome6/css/solid.css", "/sphinx/html/_static/css/fontawesome6/css/solid.min.css", "/sphinx/html/_static/css/fontawesome6/css/svg-with-js.css", "/sphinx/html/_static/css/fontawesome6/css/svg-with-js.min.css", "/sphinx/html/_static/css/fontawesome6/css/v4-font-face.css", "/sphinx/html/_static/css/fontawesome6/css/v4-font-face.min.css", "/sphinx/html/_static/css/fontawesome6/css/v4-shims.css", "/sphinx/html/_static/css/fontawesome6/css/v4-shims.min.css", "/sphinx/html/_static/css/fontawesome6/css/v5-font-face.css", "/sphinx/html/_static/css/fontawesome6/css/v5-font-face.min.css", "/sphinx/html/_static/css/fontawesome6/webfonts/fa-brands-400.ttf", "/sphinx/html/_static/css/fontawesome6/webfonts/fa-brands-400.woff2", "/sphinx/html/_static/css/fontawesome6/webfonts/fa-regular-400.ttf", "/sphinx/html/_static/css/fontawesome6/webfonts/fa-regular-400.woff2", "/sphinx/html/_static/css/fontawesome6/webfonts/fa-solid-900.ttf", "/sphinx/html/_static/css/fontawesome6/webfonts/fa-solid-900.woff2", "/sphinx/html/_static/css/fontawesome6/webfonts/fa-v4compatibility.ttf", "/sphinx/html/_static/css/fontawesome6/webfonts/fa-v4compatibility.woff2", "/sphinx/html/_static/css/fonts/fontawesome-webfont.eot", "/sphinx/html/_static/css/fonts/fontawesome-webfont.svg", "/sphinx/html/_static/css/fonts/fontawesome-webfont.ttf", "/sphinx/html/_static/css/fonts/fontawesome-webfont.woff", "/sphinx/html/_static/css/fonts/fontawesome-webfont.woff2", "/sphinx/html/_static/css/fonts/lato-bold-italic.woff", "/sphinx/html/_static/css/fonts/lato-bold-italic.woff2", "/sphinx/html/_static/css/fonts/lato-bold.woff", "/sphinx/html/_static/css/fonts/lato-bold.woff2", "/sphinx/html/_static/css/fonts/lato-normal-italic.woff", "/sphinx/html/_static/css/fonts/lato-normal-italic.woff2", "/sphinx/html/_static/css/fonts/lato-normal.woff", "/sphinx/html/_static/css/fonts/lato-normal.woff2", "/sphinx/html/_static/css/fonts/Roboto-Slab-Bold.woff", "/sphinx/html/_static/css/fonts/Roboto-Slab-Bold.woff2", "/sphinx/html/_static/css/fonts/Roboto-Slab-Regular.woff", "/sphinx/html/_static/css/fonts/Roboto-Slab-Regular.woff2", "/sphinx/html/_static/fonts/fontawesome-webfont.eot", "/sphinx/html/_static/fonts/fontawesome-webfont.svg", "/sphinx/html/_static/fonts/fontawesome-webfont.ttf", "/sphinx/html/_static/fonts/fontawesome-webfont.woff", "/sphinx/html/_static/fonts/fontawesome-webfont.woff2", "/sphinx/html/_static/fonts/Inconsolata-Bold.ttf", "/sphinx/html/_static/fonts/Inconsolata-Regular.ttf", "/sphinx/html/_static/fonts/Inconsolata.ttf", "/sphinx/html/_static/fonts/Lato-Bold.ttf", "/sphinx/html/_static/fonts/Lato-Regular.ttf", "/sphinx/html/_static/fonts/RobotoSlab-Bold.ttf", "/sphinx/html/_static/fonts/RobotoSlab-Regular.ttf", "/sphinx/html/_static/fonts/Lato/lato-bold.eot", "/sphinx/html/_static/fonts/Lato/lato-bold.ttf", "/sphinx/html/_static/fonts/Lato/lato-bold.woff", "/sphinx/html/_static/fonts/Lato/lato-bold.woff2", "/sphinx/html/_static/fonts/Lato/lato-bolditalic.eot", "/sphinx/html/_static/fonts/Lato/lato-bolditalic.ttf", "/sphinx/html/_static/fonts/Lato/lato-bolditalic.woff", "/sphinx/html/_static/fonts/Lato/lato-bolditalic.woff2", "/sphinx/html/_static/fonts/Lato/lato-italic.eot", "/sphinx/html/_static/fonts/Lato/lato-italic.ttf", "/sphinx/html/_static/fonts/Lato/lato-italic.woff", "/sphinx/html/_static/fonts/Lato/lato-italic.woff2", "/sphinx/html/_static/fonts/Lato/lato-regular.eot", "/sphinx/html/_static/fonts/Lato/lato-regular.ttf", "/sphinx/html/_static/fonts/Lato/lato-regular.woff", "/sphinx/html/_static/fonts/Lato/lato-regular.woff2", "/sphinx/html/_static/fonts/RobotoSlab/roboto-slab-v7-bold.eot", "/sphinx/html/_static/fonts/RobotoSlab/roboto-slab-v7-bold.ttf", "/sphinx/html/_static/fonts/RobotoSlab/roboto-slab-v7-bold.woff", "/sphinx/html/_static/fonts/RobotoSlab/roboto-slab-v7-bold.woff2", "/sphinx/html/_static/fonts/RobotoSlab/roboto-slab-v7-regular.eot", "/sphinx/html/_static/fonts/RobotoSlab/roboto-slab-v7-regular.ttf", "/sphinx/html/_static/fonts/RobotoSlab/roboto-slab-v7-regular.woff", "/sphinx/html/_static/fonts/RobotoSlab/roboto-slab-v7-regular.woff2", "/sphinx/html/_static/js/badge_only.js", "/sphinx/html/_static/js/html5shiv-printshiv.min.js", "/sphinx/html/_static/js/html5shiv.min.js", "/sphinx/html/_static/js/modernizr.min.js", "/sphinx/html/_static/js/register.js", "/sphinx/html/_static/js/theme.js", ];

self.addEventListener("install", function (event) {
  //即時Active状態にする
  self.skipWaiting();
  //Cache Storageに登録
  event.waitUntil(
    caches.open(CACHE_NAME).then(function (cache) {
      return cache.addAll(data);
    })
  );
});

self.addEventListener("activate", function (event) {
  event.waitUntil(
    (function () {
      caches.keys().then(function (oldCacheKeys) {
        oldCacheKeys
          .filter(function (key) {
            return key !== CACHE_NAME;
          })
          .map(function (key) {
            return caches.delete(key);//一致しないKEYのStrage Cacheを削除
          });
      });
      clients.claim();//サービスワーカー登録後、即座にページ制御を開始
    })()
  );
});

//消極的キャッシュを行う
self.addEventListener('fetch', function (event) {
  event.respondWith(
    // リクエストに一致するデータがキャッシュにあるかどうか
    caches.match(event.request)
      .then(function (cacheResponse) {
        // キャッシュがあればそれを返す、なければリクエストを投げる
        return cacheResponse || fetch(event.request, {cache: "no-cache"})
          .then(response => {
            return caches.open(CACHE_NAME)
              .then(cache => {
                cache.put(event.request, response.clone()); //レスポンスをクローンしてキャッシュに入れる
                return response;                            //オリジナルのレスポンスはそのまま返す
              });
          })
          .catch(err => {
            console.log(err); //fetch error
          });
      }).catch(err => {
        console.log(err); //cache error
      })
  );
});